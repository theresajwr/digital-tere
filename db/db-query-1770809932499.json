{
  "query": "CREATE TABLE `diary_entries` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`title` varchar(255),\n\t`content` longtext,\n\t`mood` enum('excellent','good','neutral','sad','terrible'),\n\t`moodIntensity` int,\n\t`date` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `diary_entries_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `habit_completions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`habitId` int NOT NULL,\n\t`userId` int NOT NULL,\n\t`date` timestamp NOT NULL,\n\t`completed` int NOT NULL DEFAULT 0,\n\t`notes` text,\n\t`completedAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `habit_completions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `habits` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`color` varchar(7),\n\t`icon` varchar(50),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\t`isActive` int NOT NULL DEFAULT 1,\n\tCONSTRAINT `habits_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `media_files` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`diaryEntryId` int,\n\t`fileKey` varchar(512) NOT NULL,\n\t`fileUrl` varchar(1024) NOT NULL,\n\t`fileType` enum('image','video') NOT NULL,\n\t`mimeType` varchar(100),\n\t`fileName` varchar(255),\n\t`fileSize` int,\n\t`uploadedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `media_files_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `mood_history` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`date` timestamp NOT NULL,\n\t`mood` enum('excellent','good','neutral','sad','terrible') NOT NULL,\n\t`moodIntensity` int NOT NULL,\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `mood_history_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `mood_insights` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`period` enum('week','month','year') NOT NULL,\n\t`periodStart` timestamp NOT NULL,\n\t`periodEnd` timestamp NOT NULL,\n\t`averageMoodScore` decimal(3,2),\n\t`dominantMood` varchar(50),\n\t`moodDistribution` json,\n\t`topHabitsCorrelation` json,\n\t`insights` longtext,\n\t`generatedAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `mood_insights_id` PRIMARY KEY(`id`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3FJiDZqbKZxRxMb.root --database oQwiYST5BMSJrCx97WvpNE --execute CREATE TABLE `diary_entries` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`title` varchar(255),\n\t`content` longtext,\n\t`mood` enum('excellent','good','neutral','sad','terrible'),\n\t`moodIntensity` int,\n\t`date` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `diary_entries_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `habit_completions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`habitId` int NOT NULL,\n\t`userId` int NOT NULL,\n\t`date` timestamp NOT NULL,\n\t`completed` int NOT NULL DEFAULT 0,\n\t`notes` text,\n\t`completedAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `habit_completions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `habits` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`color` varchar(7),\n\t`icon` varchar(50),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\t`isActive` int NOT NULL DEFAULT 1,\n\tCONSTRAINT `habits_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `media_files` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`diaryEntryId` int,\n\t`fileKey` varchar(512) NOT NULL,\n\t`fileUrl` varchar(1024) NOT NULL,\n\t`fileType` enum('image','video') NOT NULL,\n\t`mimeType` varchar(100),\n\t`fileName` varchar(255),\n\t`fileSize` int,\n\t`uploadedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `media_files_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `mood_history` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`date` timestamp NOT NULL,\n\t`mood` enum('excellent','good','neutral','sad','terrible') NOT NULL,\n\t`moodIntensity` int NOT NULL,\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `mood_history_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `mood_insights` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`period` enum('week','month','year') NOT NULL,\n\t`periodStart` timestamp NOT NULL,\n\t`periodEnd` timestamp NOT NULL,\n\t`averageMoodScore` decimal(3,2),\n\t`dominantMood` varchar(50),\n\t`moodDistribution` json,\n\t`topHabitsCorrelation` json,\n\t`insights` longtext,\n\t`generatedAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `mood_insights_id` PRIMARY KEY(`id`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 5280
}